!function(){"use strict";var e={};e.TodosBase=class{elem;constructor(e,t,s){this.elem=e||this.createElement(t,s)}createElement(e,t){const s=document.createElement(e||"div");return t&&s.classList.add(t),s}};var t={},s={};const{TodosBase:a}=e;class i{onDisplayChanged;onCreateTodo;static className="todos-header";static dataName="data-todos-header";static iconHideClassName=i.className+"-icon-hide";static inputDataName=i.dataName+"-input";static downIconDataName=i.dataName+"-down";static rightIconDataName=i.dataName+"-right"}class o extends a{downIcon=null;rightIcon=null;input=null;downIconClickHandler;rightIconClickHandler;inputKeyUpHandler;constructor(e,t){super(e,"div",i.className),e?(this.downIcon=e.querySelector(`[${i.downIconDataName}]`),this.rightIcon=e.querySelector(`[${i.rightIconDataName}]`),this.input=e.querySelector(`[${i.inputDataName}]`)):(this.createIcons(),this.createInput()),this.downIcon&&(this.downIconClickHandler=()=>{this.changeDisplay(!1),t?.onDisplayChanged?.(!1)},this.downIcon.addEventListener("click",this.downIconClickHandler)),this.rightIcon&&(this.rightIconClickHandler=()=>{this.changeDisplay(!0),t?.onDisplayChanged?.(!0)},this.rightIcon.addEventListener("click",this.rightIconClickHandler)),this.input&&(this.inputKeyUpHandler=e=>{const s=e.target.value?.trim?.();"Enter"===e.key&&s&&(t?.onCreateTodo?.(s),e.target.value="")},this.input.addEventListener("keyup",this.inputKeyUpHandler)),this.changeDisplay(!0)}get downIconElem(){return this.downIcon}get rightIconElem(){return this.rightIcon}get inputElem(){return this.input}createIcons(){const e=document.createElement("span");e.innerHTML=`\n      <svg viewBox="0 0 16 16" ${i.downIconDataName}>\n        <path\n          fillRule="evenodd"\n          d="\n            M1.646 4.646a.5.5 0 0 1 .708 0L8 \n            10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 \n            6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z\n          "\n        />\n      </svg>\n      <svg viewBox="0 0 16 16" ${i.rightIconDataName}>\n        <path\n          fillRule="evenodd"\n          d="\n            M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 \n            .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 \n            2.354a.5.5 0 0 1 0-.708z\n          "\n        />\n      </svg>\n    `,this.downIcon=e.querySelector(`[${i.downIconDataName}]`),this.rightIcon=e.querySelector(`[${i.rightIconDataName}]`),this.elem.appendChild(e)}createInput(){this.input=document.createElement("input"),this.input.placeholder="Enter new task",this.elem.appendChild(this.input)}changeDisplay(e){this.rightIcon&&(e?this.rightIcon.classList.add(i.iconHideClassName):this.rightIcon.classList.remove(i.iconHideClassName)),this.downIcon&&(e?this.downIcon.classList.remove(i.iconHideClassName):this.downIcon.classList.add(i.iconHideClassName))}destroy(){this.downIcon?.removeEventListener("click",this.downIconClickHandler),this.rightIcon?.removeEventListener("click",this.rightIconClickHandler),this.input?.removeEventListener("keyup",this.inputKeyUpHandler)}static init(e,t){const s=e.querySelector(`[${i.dataName}]`);return s?new o(s,t):null}}s.TodosHeaderProps=i,s.TodosHeader=o;var n={};const{TodosBase:l}=e,d={All:"all",Active:"active",Completed:"completed"};class c{onChangeDisplayMode;onClearCompleted;static defaultDisplayListMode=d.All;static className="todos-footer";static dataName="data-todos-footer";static infoClassName=c.className+"-info";static infoDataName=c.dataName+"-info";static buttonsClassName=c.className+"-buttons";static buttonClassName=c.className+"-button";static buttonActiveClassName=c.buttonClassName+"-active";static displayAllBtnDataName=c.dataName+"-display-all";static displayActiveBtnDataName=c.dataName+"-display-active";static displayCompletedBtnDataName=c.dataName+"-display-completed";static clearCompletedBtnDataName=c.dataName+"-clear-completed"}class r extends l{info=null;displayAllBtn=null;displayActiveBtn=null;displayCompletedBtn=null;clearCompletedBtn=null;displayAllBtnClickHandler;displayActiveBtnClickHandler;displayCompletedBtnClickHandler;clearCompletedBtnClickHandler;constructor(e,t){super(e,"div",c.className),e?(this.info=e.querySelector(`[${c.infoDataName}]`),this.displayAllBtn=e.querySelector(`[${c.displayAllBtnDataName}]`),this.displayActiveBtn=e.querySelector(`[${c.displayActiveBtnDataName}]`),this.displayCompletedBtn=e.querySelector(`[${c.displayCompletedBtnDataName}]`),this.clearCompletedBtn=e.querySelector(`[${c.clearCompletedBtnDataName}]`)):(this.createInfo(),this.createButtons(),this.createClearCompletedBtn()),this.displayAllBtn&&(this.displayAllBtnClickHandler=()=>{this.changeDisplayMode(d.All),t?.onChangeDisplayMode?.(d.All)},this.displayAllBtn.addEventListener("click",this.displayAllBtnClickHandler)),this.displayActiveBtn&&(this.displayActiveBtnClickHandler=()=>{this.changeDisplayMode(d.Active),t?.onChangeDisplayMode?.(d.Active)},this.displayActiveBtn.addEventListener("click",this.displayActiveBtnClickHandler)),this.displayCompletedBtn&&(this.displayCompletedBtnClickHandler=()=>{this.changeDisplayMode(d.Completed),t?.onChangeDisplayMode?.(d.Completed)},this.displayCompletedBtn.addEventListener("click",this.displayCompletedBtnClickHandler)),this.clearCompletedBtn&&(this.clearCompletedBtnClickHandler=()=>t?.onClearCompleted?.(),this.clearCompletedBtn.addEventListener("click",this.clearCompletedBtnClickHandler)),this.changeDisplayMode(c.defaultDisplayListMode)}get infoElem(){return this.info}get displayAllBtnElem(){return this.displayAllBtn}get displayActiveBtnElem(){return this.displayActiveBtn}get displayCompletedBtnElem(){return this.displayCompletedBtn}get clearCompletedBtnElem(){return this.clearCompletedBtn}createInfo(){const e=document.createElement("div");e.classList.add(c.infoClassName),e.innerHTML="<span></span> items left",this.info=e.querySelector("span"),this.elem.appendChild(e)}createButtons(){const e=document.createElement("div");e.classList.add(c.buttonsClassName),this.displayAllBtn=document.createElement("div"),this.displayAllBtn.classList.add(c.buttonClassName),this.displayAllBtn.textContent="All",this.displayActiveBtn=document.createElement("div"),this.displayActiveBtn.classList.add(c.buttonClassName),this.displayActiveBtn.textContent="Active",this.displayCompletedBtn=document.createElement("div"),this.displayCompletedBtn.classList.add(c.buttonClassName),this.displayCompletedBtn.textContent="Completed",e.appendChild(this.displayAllBtn),e.appendChild(this.displayActiveBtn),e.appendChild(this.displayCompletedBtn),this.elem.appendChild(e)}createClearCompletedBtn(){this.clearCompletedBtn=document.createElement("div"),this.clearCompletedBtn.classList.add(c.buttonClassName),this.clearCompletedBtn.classList.add(c.buttonActiveClassName),this.clearCompletedBtn.textContent="Clear completed",this.elem.appendChild(this.clearCompletedBtn)}changeDisplayMode(e){e===d.All?this.displayAllBtn?.classList.add(c.buttonActiveClassName):this.displayAllBtn?.classList.remove(c.buttonActiveClassName),e===d.Active?this.displayActiveBtn?.classList.add(c.buttonActiveClassName):this.displayActiveBtn?.classList.remove(c.buttonActiveClassName),e===d.Completed?this.displayCompletedBtn?.classList.add(c.buttonActiveClassName):this.displayCompletedBtn?.classList.remove(c.buttonActiveClassName)}destroy(){this.displayAllBtn?.removeEventListener("click",this.displayAllBtnClickHandler),this.displayActiveBtn?.removeEventListener("click",this.displayActiveBtnClickHandler),this.displayCompletedBtn?.removeEventListener("click",this.displayCompletedBtnClickHandler),this.clearCompletedBtn?.removeEventListener("click",this.clearCompletedBtnClickHandler)}static init(e,t){const s=e.querySelector(`[${c.dataName}]`);return s?new r(s,t):null}}n.TodosListDisplayMode=d,n.TodosFooterProps=c,n.TodosFooter=r;var h={},m={};const{TodosBase:p}=e;class C{completed;title;onTodoStatusChange;static className="todo-item";static dataName="data-todo-item";static checkedClassName=C.className+"-checked";static hideClassName=C.className+"-hide";static checkboxDataName=C.dataName+"-checkbox";static contentDataName=C.dataName+"-content";static templateDataName=C.dataName+"-template"}class u extends p{content=null;checkbox=null;onTodoStatusChangeHandler;constructor(e,t){super(e,"li",C.className),e?(this.checkbox=e.querySelector(`[${C.checkboxDataName}]`),this.content=e.querySelector(`[${C.contentDataName}]`)):(this.createCheckbox(),this.createContent()),this.checkbox&&(this.onTodoStatusChangeHandler=()=>{this.checkbox?.checked?this.elem.classList.add(C.checkedClassName):this.elem.classList.remove(C.checkedClassName),t?.onTodoStatusChange?.(this)},this.checkbox.checked=t?.completed??this.checkbox.checked??!1,this.checkbox.addEventListener("change",this.onTodoStatusChangeHandler),t?.completed&&this.elem.classList.add(C.checkedClassName)),this.content&&t?.title&&(this.content.textContent=t?.title)}get contentElem(){return this.content}get checkboxElem(){return this.checkbox}createContent(){const e=document.createElement("span");this.content=e,this.elem.appendChild(e)}createCheckbox(){const e=document.createElement("label"),t=document.createElement("input"),s=document.createElement("span");t.type="checkbox",s.innerHTML='\n      <svg viewBox="0 0 16 16">\n        <path \n          d="M13.485 1.431a1.473 1.473 0 0 1 2.104 2.062l-7.84 9.801a1.473 1.473 0 0 1-2.12.04L.431 8.138a1.473 1.473 0 0 1 2.084-2.083l4.111 4.112 6.82-8.69a.486.486 0 0 1 .04-.045z"\n        />\n      </svg>\n    ',e.appendChild(t),e.appendChild(s),this.elem.appendChild(e),this.checkbox=t}destroy(){this.checkbox?.removeEventListener("change",this.onTodoStatusChangeHandler)}static init(e,t){const s=e.querySelectorAll(`[${C.dataName}]`),a=[];for(let e of s){const s=new u(e,t);a.push(s)}return a}}m.TodoItemProps=C,m.TodoItem=u;const{TodosBase:y}=e,{TodosListDisplayMode:g,TodosFooterProps:N}=n,{TodoItem:v,TodoItemProps:B}=m;class T{onTodoStatusChange;static className="todos-list";static dataName="data-todos-list";static hideClassName=T.className+"-hide"}class D extends y{itemTemplate=null;mode;items=[];props;constructor(e,t){super(e,"ul",T.className),this.props=t,e&&(this.items=v.init(e,{onTodoStatusChange:e=>{this.updateItemDisplayMode(e),t?.onTodoStatusChange?.(e)}}),this.itemTemplate=document.querySelector(`[${B.templateDataName}]`)?.content?.querySelector(`[${B.dataName}]`)),this.changeDisplayMode(N.defaultDisplayListMode)}get displayMode(){return this.mode}get itemsList(){return this.items}addItem(e,t){const s=this.itemTemplate?.cloneNode?.(!0),a=new v(s,{title:e,completed:t,onTodoStatusChange:e=>{this.updateItemDisplayMode(e),this.props?.onTodoStatusChange?.(e)}});return this.elem.appendChild(a.elem),this.updateItemDisplayMode(a),this.items.push(a),a}changeDisplayMode(e){this.mode=e;for(let e of this.items)this.updateItemDisplayMode(e)}changeListDisplay(e){e?this.elem.classList.remove(T.hideClassName):this.elem.classList.add(T.hideClassName)}clearCompleted(){const e=[];for(let t=0;t<this.items.length;t++){const s=this.items[t];s.checkbox?.checked?this.elem.removeChild(s.elem):e.push(s)}this.items=e}updateItemDisplayMode(e){this.mode===g.All||this.mode===g.Completed&&e.checkbox?.checked||this.mode===g.Active&&!e.checkbox?.checked?e.elem.classList.remove(B.hideClassName):e.elem.classList.add(B.hideClassName)}destroy(){for(let e of this.items)e.destroy()}static init(e,t){const s=e.querySelector(`[${T.dataName}]`);return s?new D(s,t):null}}h.TodosList=D,h.TodosListProps=T;const{TodosBase:k}=e,{TodosHeader:L}=s,{TodosFooter:H}=n,{TodosList:A}=h;class I{onCreateTodo;onDisplayChanged;onChangeDisplayMode;onClearCompleted;onTodoStatusChange;static className="todos";static dataName="data-todos";static containerClassName=I.className+"-container";static titleClassName=I.className+"-title";static titleDataName=I.dataName+"-title"}class f extends k{title=null;header=null;list=null;footer=null;onCreateTodoHandler;onDisplayChangedHandler;onChangeDisplayModeHandler;onClearCompletedHandler;onTodoStatusChangeHandler;constructor(e,t){super(e,"div",I.className),this.onCreateTodoHandler=e=>{this.onCreateTodo(e),t?.onCreateTodo?.(e)},this.onDisplayChangedHandler=e=>{this.onDisplayChanged(e),t?.onDisplayChanged?.(e)},this.onChangeDisplayModeHandler=e=>{this.onChangeDisplayMode(e),t?.onChangeDisplayMode?.(e)},this.onClearCompletedHandler=()=>{this.onClearCompleted(),t?.onClearCompleted?.()},this.onTodoStatusChangeHandler=e=>{t?.onTodoStatusChange?.(e)},e?(this.title=e.querySelector(`[${I.titleDataName}]`),this.header=L.init(e,{onCreateTodo:this.onCreateTodoHandler,onDisplayChanged:this.onDisplayChangedHandler}),this.list=A.init(e,{onTodoStatusChange:this.onTodoStatusChangeHandler}),this.footer=H.init(e,{onChangeDisplayMode:this.onChangeDisplayModeHandler,onClearCompleted:this.onClearCompletedHandler})):(this.createTitle(),this.createContainer()),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}get titleElem(){return this.title}get headerComponent(){return this.header}get listComponent(){return this.list}get footerComponent(){return this.footer}createTitle(){this.title=document.createElement("div"),this.title.classList.add(I.titleClassName),this.title.textContent="todos",this.elem.appendChild(this.title)}createContainer(){const e=document.createElement("div");e.classList.add(I.containerClassName),this.createHeader(e),this.createList(e),this.createFooter(e),this.elem.appendChild(e)}createHeader(e){this.header=new L(null,{onCreateTodo:this.onCreateTodoHandler,onDisplayChanged:this.onDisplayChangedHandler}),e.appendChild(this.header.elem)}createList(e){this.list=new A(null,{onTodoStatusChange:this.onTodoStatusChangeHandler}),e.appendChild(this.list.elem)}createFooter(e){this.footer=new H(null,{onChangeDisplayMode:this.onChangeDisplayModeHandler,onClearCompleted:this.onClearCompletedHandler}),e.appendChild(this.footer.elem)}onCreateTodo(e){this.list?.addItem?.(e,!1),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}onDisplayChanged(e){this.list?.changeListDisplay?.(e)}onChangeDisplayMode(e){this.list?.changeDisplayMode?.(e)}onClearCompleted(){this.list?.clearCompleted?.(),this.footer?.info&&(this.footer.info.textContent=this.list?.itemsList?.length)}destroy(){this.header?.destroy?.(),this.list?.destroy?.(),this.footer?.destroy?.()}static init(e){const t=document.querySelectorAll(`[${I.dataName}]`),s=[];for(let a of t){const t=new f(a,e);s.push(t)}return s}}t.TodosProps=I,t.Todos=f;const{TodosBase:E}=e,{TodosProps:M,Todos:S}=t,{TodoItemProps:b,TodoItem:w}=m,{TodosListDisplayMode:x,TodosFooterProps:$,TodosFooter:q}=n,{TodosHeaderProps:P,TodosHeader:F}=s,{TodosListProps:K,TodosList:U}=h;const z={TodosBase:E,TodosProps:M,Todos:S,TodoItemProps:b,TodoItem:w,TodosListDisplayMode:x,TodosFooterProps:$,TodosFooter:q,TodosHeaderProps:P,TodosHeader:F,TodosListProps:K,TodosList:U};window&&(window.TodosModule=z)}();
//# sourceMappingURL=todos-1.0.1.js.map
